<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DLB - Sell</title>
    <meta name="description" content="Sell an item in Discord - DLB">
    <link rel="stylesheet" href="style.css">
</head>
<body>
  <p style="color:white;">Enter Product Name:</p>
  <input type="text" id="itemToSell" placeholder="Item name"/>
  <p style="color:white;">Enter Product Price:</p>
  <input type="number" id="priceToSell" placeholder="Item price"/>
  <button onclick="sendMessage()">Add Item to Store</button>
  <p id="errorCatch" style="color:red;"></p>
  <hr>
  <button onclick="location.href='https://ckstudios2018.github.io/lvlBot';">Return Home</button>
</body>
<script>
    function sendMessage() {
      var inputVal = document.getElementById("itemToSell").value;
      var price = document.getElementById("priceToSell").value;
      const loginVal = "https://discord.com/api/webhooks/839811951541485609/3FXzQJcAXbIUKreruqWMHwzqBuzexTVhVDmdqbRHoZaLuKGV1vsbyt_vlBYLQ1UC22zf";
      var request = new XMLHttpRequest();
      request.open("POST", loginVal);
      try {
        if(inputVal == "")  throw "empty";
        if(loginVal == "") throw "empty";
      }
      catch(err) {
        inputVal.innerHTML = "DLB Item is " + err;
        loginVal.innerHTML = "DLB Price is " + err;
      }

      request.setRequestHeader('Content-type', 'application/json');

      var params = {
        username: "",
        avatar_url: "",
        content: inputVal + " " + price + " coins"
      }

      request.send(JSON.stringify(params));
    }
    
  </script>
  </html>